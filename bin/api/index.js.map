{"version":3,"sources":["../../src/api/index.js"],"names":["api","get","req","res","data","format","query","console","log","calTDEE","main_tdee","energy_weight_loss","loseweight","valCadio","minHeartRate","maxHeartRate","cadioperweek","protein","cal_perday_protein","div_perday_protein","carb","cal_perday_carbohydrate","div_perday_carbohydrate","fat","cal_perday_fat","div_perday_fat","totalCalories","permeals_protein","cal_permeals_protein","div_permeals_protein","permeals_carbohydrate","cal_permeals_carbohydrate","div_permeals_carbohydrate","permeals_fat","cal_permeals_fat","div_permeals_fat","totalCaloriesPerMeal","word","goal","json","messages","text","version","formatWorkoutFrequency","weightFrequency","formatNumofMeal","food","formatGoal","formatGoalOption","goalType","gender","age","height","weight","workoutFrequency","numOfMeal","goalFormated","goalOption","parseInt","percentFat","calMaintain","result","commonFormula","leanMass","Math","round","calNutrient","maintain","ceil","formulaCarbOne","formulaCarbTwo","floor","commonFormulaCarb","nutrients","mainTDEE","valCarbohydrate"],"mappings":"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","file":"index.js","sourcesContent":["import { version } from '../../package.json';\nimport { Router } from 'express';\n\nexport default () => {\n\tlet api = Router();\n\n\tapi.get('/', (req, res) => {\n\t\tconst data = format(req.query);\n\t\tconsole.log('query get: ', req.query);\n\t\tconsole.log('data get: ', data);\n\n\t\tconst {\n\t\t\tmain_tdee,\n\t\t\tenergy_weight_loss,\n\t\t\tloseweight,\n\t\t\tvalCadio,\n\t\t\tminHeartRate,\n\t\t\tmaxHeartRate,\n\t\t\tcadioperweek,\n\t\t\t//ต่อวัน\n\t\t\tprotein, // day_protein\n\t\t\tcal_perday_protein,\n\t\t\tdiv_perday_protein,\n\t\t\tcarb,\n\t\t\tcal_perday_carbohydrate,\n\t\t\tdiv_perday_carbohydrate,\n\t\t\tfat,\n\t\t\tcal_perday_fat,\n\t\t\tdiv_perday_fat,\n\t\t\ttotalCalories, // รวมแคลลอรี่\n\t\t\t// ต่อมื้อ\n\t\t\tpermeals_protein,\n\t\t\tcal_permeals_protein,\n\t\t\tdiv_permeals_protein,\n\t\t\tpermeals_carbohydrate,\n\t\t\tcal_permeals_carbohydrate,\n\t\t\tdiv_permeals_carbohydrate,\n\t\t\tpermeals_fat,\n\t\t\tcal_permeals_fat,\n\t\t\tdiv_permeals_fat,\n\t\t\ttotalCaloriesPerMeal //รวมแคลลอรี่\n\t\t} = calTDEE(data);\n\n\t\t//res.json(calTDEE(data));\n\t\tconst word = (req.query.goal === 'เพิ่มกล้ามเนื้อ') ? 'เพิ่ม' : 'ลด';\n\n\t\tres.json({\n\t\t\tmessages: [\n\t\t\t\t{\n\t\t\t\t\ttext: `ผลการคำนวณโปรแกรมของคุณครับ\\n\\nเป้าหมาย: ${req.query.goal}\\nค่าพลังงานที่ทำให้น้ำหนักคงที่ (TDEE) ${main_tdee} แคลอรี่\\nค่าพลังงานใหม่สำหรับ${req.query.goal} ${energy_weight_loss} แคลอรี่\nน้ำหนักของคุณจะ${word}สัปดาห์ละ ${loseweight} กิโลกรัม\\n\\nโปรแกรมคาร์ดิโอ\\nจำนวนเวลาที่คาร์ดิโอ ${valCadio} นาทีต่อสัปดาห์\\nอัตราการเต้นของหัวใจ ${minHeartRate} - ${maxHeartRate} ครั้ง/นาที\\nแคลอรี่ที่ใช้ไปจากการคาร์ดิโอ ${cadioperweek} แคลอรี่/สัปดาห์\\n\\nโปรแกรมอาหารที่ต้องรับประทานต่อวัน\\nโปรตีน ${protein} กรัม\\nคาร์โบไฮเดรต ${carb} กรัม\\nไขมัน ${fat} กรัม`\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t});\n\n\tapi.get('/v', (req, res) => {\n\t\tres.json({ version });\n\t});\n\n\treturn api;\n}\n\nconst formatWorkoutFrequency = (weightFrequency) => {\n\tswitch (weightFrequency) {\n\t\tcase 'ไม่เล่นเลย':\n\t\t\treturn 1.2;\n\t\tcase '3 ครั้ง/สัปดาห์':\n\t\t\treturn 1.375;\n\t\tcase '4 ครั้ง/สัปดาห์':\n\t\t\treturn 1.4187;\n\t\tcase '5 ครั้ง/สัปดาห์':\n\t\t\treturn 1.4625;\n\t\tcase '6 ครั้ง/สัปดาห์':\n\t\t\treturn 1.5063;\n\t\tcase 'ทุกวัน':\n\t\t\treturn 1.6375;\n\t}\n}\n\nconst formatNumofMeal = (food) => {\n\tswitch (food) {\n\t\tcase '2 มื้อ':\n\t\t\treturn 2;\n\t\tcase '3 มื้อ':\n\t\t\treturn 3;\n\t\tcase '4 มื้อ':\n\t\t\treturn 4;\n\t\tcase '5 มื้อ':\n\t\t\treturn 5;\n\t\tcase '6 มื้อ':\n\t\t\treturn 6;\n\t\tcase '7 มื้อ':\n\t\t\treturn 7;\n\t}\n}\n\nconst formatGoal = (goal) => {\n\tswitch (goal) {\n\t\tcase 'ลดน้ำหนัก':\n\t\t\treturn 'loseWeight';\n\t\tcase 'เพิ่มกล้ามเนื้อ':\n\t\t\treturn 'muscleGain';\n\t}\n}\n\nconst formatGoalOption = (goalType) => {\n\tswitch (goalType) {\n\t\tcase 'ปกติ':\n\t\t\treturn 'normal';\n\t\tcase 'เร่งด่วน':\n\t\t\treturn 'quick';\n\t}\n}\n\nconst format = ({ gender, age, height, weight, fat, weightFrequency, food, goal, goalType }) => {\n\n\tconst workoutFrequency = formatWorkoutFrequency(weightFrequency);\n\tconst numOfMeal = formatNumofMeal(food);\n\tconst goalFormated = formatGoal(goal);\n\tconst goalOption = formatGoalOption(goalType);\n\n\treturn {\n\t\tgender,\n\t\tage: parseInt(age),\n\t\theight: parseInt(height), \n\t\tweight: parseInt(weight), \n\t\tpercentFat: parseInt(fat), \n\t\tworkoutFrequency, \n\t\tgoal: goalFormated,\n\t\tgoalOption, \n\t\tnumOfMeal\n\t}\n}\n\nconst calMaintain = (gender, weight, height, age, percentFat, workoutFrequency) => {\n\tlet result = 0;\n  const commonFormula = (10 * weight) + (6.25 * height) - (5 * age);\n\n  if (percentFat === 0) {\n    result = (gender === \"male\") ? commonFormula + 5 : commonFormula - 162; \n  } else {\n    const leanMass = weight - (weight * percentFat / 100);\n    //const leanMassLbs = leanMass * 2.2;\n    result = (21.6 * leanMass) + 370;\n  }\n\n  return Math.round(result * workoutFrequency);\n}\n\nfunction calNutrient(percentFat, weight, maintain, goal, goalOption) {\n\tconst protein = Math.ceil(0.95 * 2.2 * weight);\n\tconst fat = Math.ceil(0.375 * 2.2 * weight);\n\tconst formulaCarbOne = (goal === 'loseWeight') \n\t\t? (maintain * 0.1) / 2 / 4 \n\t\t: (maintain * 0.1) / 4;\n\tconst formulaCarbTwo = (percentFat === 0) \n\t\t? Math.ceil(formulaCarbOne) \n\t\t: Math.floor(formulaCarbOne);\n\tconst commonFormulaCarb = Math.floor(((maintain - (protein * 4) - (fat * 9)) / 4));\n\tconst carb = (goalOption === 'normal')\n\t\t? commonFormulaCarb - formulaCarbTwo\n\t\t: commonFormulaCarb + 125;\n\n  return { protein, carb, fat };\n}\n\nfunction calTDEE({ gender, age, height, weight, percentFat, workoutFrequency, goal, goalOption, numOfMeal }) {\n  const maintain = calMaintain(gender, weight, height, age, percentFat, workoutFrequency);\n\t//console.log('maintain: ', maintain);\n\tconst nutrients = calNutrient(percentFat, weight, maintain, goal, goalOption);\n\t//console.log('nutrients: ', nutrients);\n\n\tconst mainTDEE = (nutrients.protein * 4) + (Math.floor(((maintain - (nutrients.protein * 4) - (nutrients.fat * 9)) / 4)) * 4) + (nutrients.fat * 9);\n\t//console.log('mainTDEE: ', mainTDEE);\n\n\t//รวมแคลอรี่\n\tconst totalCalories = (nutrients.protein * 4) + (nutrients.carb * 4) + (nutrients.fat * 9);\n\tconst totalCaloriesPerMeal = Math.ceil(totalCalories / numOfMeal);\n\n\t//ต่อวัน\n\tconst cal_perday_protein = nutrients.protein * 4;\n\tconst cal_perday_fat = nutrients.fat * 9;\n\tconst cal_perday_carbohydrate = nutrients.carb * 4;\n\n\tconst div_perday_protein = Math.round((cal_perday_protein / totalCalories * 100));\n\tconst div_perday_fat = Math.round((cal_perday_fat / totalCalories * 100));\n\tconst div_perday_carbohydrate = Math.round((cal_perday_carbohydrate / totalCalories * 100));\n\t\n\t//ต่อมื้อ\n\tconst permeals_protein = Math.ceil(nutrients.protein / numOfMeal);\n\tconst permeals_fat = Math.ceil(nutrients.fat / numOfMeal);\n\tconst permeals_carbohydrate = Math.ceil(nutrients.carb / numOfMeal);\n\n\tconst cal_permeals_protein = Math.ceil(cal_perday_protein / numOfMeal);\n\tconst cal_permeals_fat = Math.ceil(cal_perday_fat / numOfMeal);\n\tconst cal_permeals_carbohydrate = Math.ceil(cal_perday_carbohydrate / numOfMeal);\n\n\tconst div_permeals_protein = Math.round(cal_permeals_protein / totalCaloriesPerMeal * 100);\n\tconst div_permeals_fat = Math.round(cal_permeals_fat / totalCaloriesPerMeal * 100);\n\tconst div_permeals_carbohydrate = Math.round(cal_permeals_carbohydrate / totalCaloriesPerMeal * 100);\n\n\tlet valCadio = 0; //การคาร์ดิโอ\n\tlet valCarbohydrate = 0; //คาร์โบไฮเดตรต้องลด\n\tlet loseweight = 0; //น้ำหนักที่จะ เพิ่ม/ลด ได้\n\tlet energy_weight_loss = 0; //ค่าพลังงานสำหรับเพิ่มกล้ามเนื้อ/น้ำหนัก\n\n\tif (goal === 'loseWeight') {\n\t\tif (goalOption === 'normal') {\n\t\t\tvalCadio = Math.ceil((maintain * 10 / 100) / 2);\n\t\t\tvalCarbohydrate = Math.ceil((maintain * 10 / 100) / 4 / 7 / 2);\n\t\t\tloseweight = Math.round(((mainTDEE * 10 / 100) * 0.000143 * 7) * 10) / 10;\n\t\t\tenergy_weight_loss = Math.floor(mainTDEE - (mainTDEE * 10 / 100));\n\t\t} else {\n\t\t\tvalCadio = 200;\n\t\t\tvalCarbohydrate = 75;\n\t\t\tloseweight = 0.5;\n\t\t\tenergy_weight_loss = mainTDEE - 500;\n\t\t}\n\t} else {\n\t\tif (goalOption === 'normal') {\n\t\t\tvalCadio = 0; \n\t\t\tvalCarbohydrate = Math.ceil((maintain * 10 / 100) / 4 / 7);\n\t\t\tloseweight = Math.round(((mainTDEE * 10 / 100) * 0.000143 * 7) * 10) / 10;\n\t\t\tenergy_weight_loss = Math.floor((mainTDEE * 1.1));\n\t\t} else {\n\t\t\tvalCadio = 0;\n\t\t\tvalCarbohydrate = 125;\n\t\t\tloseweight = 0.5;\n\t\t\tenergy_weight_loss = mainTDEE + 500;\n\t\t}\n\t}\n\n\t//อัตราการเต้นของหัวใจที่เหมาะสม\n\tconst minHeartRate = Math.floor((200 - age) * 60 / 100);\n\tconst maxHeartRate = Math.ceil((200 - age) * 70 / 100);\n\n\t//แคลลอรี่จากการคาร์ดิโอ/สัปดาห์\n\tconst cadioperweek = valCadio * 7;\n\n  return {\n\t\tmain_tdee: mainTDEE,\n    energy_weight_loss: energy_weight_loss,\n    loseweight: loseweight,\n    valCadio: valCadio,\n    minHeartRate: minHeartRate,\n    maxHeartRate: maxHeartRate,\n    cadioperweek: cadioperweek,\n    totalCalories: totalCalories,\n    protein: nutrients.protein,\n    cal_perday_protein: cal_perday_protein,\n    div_perday_protein: div_perday_protein,\n    fat: nutrients.fat,\n    cal_perday_fat: cal_perday_fat,\n    div_perday_fat: div_perday_fat,\n    carb: nutrients.carb,\n    cal_perday_carbohydrate: cal_perday_carbohydrate,\n    div_perday_carbohydrate: div_perday_carbohydrate,\n    permeals_protein: permeals_protein,\n    cal_permeals_protein: cal_permeals_protein,\n    div_permeals_protein: div_permeals_protein,\n    permeals_fat: permeals_fat,\n    cal_permeals_fat: cal_permeals_fat,\n    div_permeals_fat: div_permeals_fat,\n    permeals_carbohydrate: permeals_carbohydrate,\n    cal_permeals_carbohydrate: cal_permeals_carbohydrate,\n    div_permeals_carbohydrate: div_permeals_carbohydrate,\n    totalCaloriesPerMeal: totalCaloriesPerMeal\n  }\n}"]}